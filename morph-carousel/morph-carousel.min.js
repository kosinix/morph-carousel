!function(s){function e(i,e){var t=i.find("."+e.cssClass.inner),a=i.find("."+e.cssClass.viewPort),n=i.find("."+e.cssClass.strip),r=i.find("."+e.cssClass.item),c=i.find("."+e.cssClass.prev),l=i.find("."+e.cssClass.next),d=0,p=o(r);t.css("maxWidth",p+"px"),r.each(function(i,e){var a=s(e).find("img");a.one("load",function(){var i=s(this).outerWidth();p+=i,d++,d>=r.length&&t.css("maxWidth",p+"px")}).each(function(){this.complete&&s(this).load()})}),a.height(r.eq(0).outerHeight()),n.css("transition","all "+e.scrollSpeed+"ms ease"),c.prop("disabled",!1),l.prop("disabled",!1),r.eq(0).find("img").one("load",function(){var s=r.eq(0).outerHeight();a.height(s),n.height(s)}).each(function(){this.complete&&s(this).load()})}function t(i,e){i.on("click","."+e.cssClass.next,function(i){e.nextHook(e,s(this).parents("."+e.cssClass.carousel),i)}).on("click","."+e.cssClass.prev,function(i){e.prevHook(e,s(this).parents("."+e.cssClass.carousel),i)})}function a(s,e){var t=e.find("."+s.cssClass.strip),a=e.find("."+s.cssClass.prev),n=e.find("."+s.cssClass.next),c=e.find("."+s.cssClass.viewPort),l=e.find("."+s.cssClass.item),d=r(l),p=c.width(),f=o(l),h=-Math.floor(f-p),u=h,v=parseInt(t.position().left);for(i=0;i<d.length;++i)if(d[i]>p+(0-v)&&i>0){u=-d[i-1];break}s.wrap?(h>u&&(u=h),e.data("lastReached")&&(u=0,e.data("lastReached",!1),e.data("firstReached",!0)),a.prop("disabled",!1),n.prop("disabled",!1),u==h&&e.data("lastReached",!0),t.css("left",u+"px")):(h>u&&(u=h),a.prop("disabled",!1),n.prop("disabled",!1),u==h&&n.prop("disabled",!0),t.css("left",u+"px"))}function n(s,e){var t=e.find("."+s.cssClass.strip),a=e.find("."+s.cssClass.prev),n=e.find("."+s.cssClass.next),c=e.find("."+s.cssClass.viewPort),l=e.find("."+s.cssClass.item),d=r(l),p=c.width(),f=o(l),h=-Math.floor(f-p),u=0,v=parseInt(t.position().left);for(i=d.length;i>0;--i)if(d[i]<Math.abs(v)-p&&i<d.length){u=-d[i+1];break}s.wrap?(u>0&&(u=0),e.data("firstReached")&&(u=h,e.data("firstReached",!1),e.data("lastReached",!0)),a.prop("disabled",!1),n.prop("disabled",!1),0==u&&e.data("firstReached",!0),t.css("left",u+"px")):(u>0&&(u=0),a.prop("disabled",!1),n.prop("disabled",!1),0==u&&a.prop("disabled",!0),t.css("left",u+"px"))}function o(i){var e=0;return i.each(function(i,t){e+=s(t).outerWidth()}),e}function r(i){var e=[];return i.each(function(i,t){e[i]=s(t).position().left}),e}var c={init:function(i){var o={scrollSpeed:200,wrap:!1,cssClass:{carousel:"morph-carousel",inner:"morph-carousel-inner",viewPort:"morph-carousel-viewport",strip:"morph-carousel-strip",item:"morph-carousel-item",prev:"morph-carousel-prev",next:"morph-carousel-next"},initHook:function(s,i){e(s,i)},prevHook:function(s,i,e){n(s,i,e)},nextHook:function(s,i,e){a(s,i,e)}};return i=s.extend(!0,{},o,i),this.each(function(){var e=s(this),a=e.find("."+i.cssClass.item);"div"!=e.prop("nodeName").toLowerCase()?s.error("Not a DIV element"):(e.append('<div class="'+i.cssClass.inner+'"><div class="'+i.cssClass.viewPort+'"><div class="'+i.cssClass.strip+'"></div></div><button class="'+i.cssClass.prev+'"></button><button class="'+i.cssClass.next+'"></button></div>'),a.appendTo(e.find("."+i.cssClass.strip)),i.initHook(e,i),t(e,i),e.find("."+i.cssClass.prev).prop("disabled",!0))})}};s.fn.morphCarousel=function(s){return c[s]?c[s].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof s&&s?!1:c.init.apply(this,arguments)}}(jQuery);